models:
- name: customer_details
  description: Staging view for customer data with nested fields preserved
  
  columns:
    - name: customer_key
      description: "Unique customer identifier"
      constraints:
        - type: primary_key
      data_tests:
        - not_null
    - name: customer_name
      description: "Customer business name"
    - name: nation_key
      description: "Nation key reference"
      constraints:
        - type: foreign_key
          to: ref('nation')
          to_columns: [nation_key]
      data_tests:
      - not_null
    - name: phone
      description: "Customer phone number"
    - name: account_balance
      description: "Customer account balance"
    - name: market_segment
      description: "Customer market segment (BUILDING, AUTOMOBILE, etc.)"
    - name: comment
      description: "Additional comments about the customer"
    - name: street_number
      description: "Street number of the customer"
    - name: street_name
      description: "Street name of the customer"
    - name: regionkey
      description: "Region of the customer"
    - name: countrykey
      description: "Country of the customer"
    - name: postal_code
      description: "Postal code of the customer"
    - name: last_modified